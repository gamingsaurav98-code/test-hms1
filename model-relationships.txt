# HMS Model Relationships Analysis

## Core Models

### User
- One-to-Many: User -> Student (user_id)
- One-to-Many: User -> Staff (user_id)
- One-to-Many: User -> Attachment (user_id)

### Hostel
- One-to-Many: Hostel -> Block (hostel_id)
- One-to-Many: Hostel -> Floor (hostel_id)
- One-to-Many: Hostel -> Student (hostel_id)
- One-to-Many: Hostel -> Staff (hostel_id)
- One-to-Many: Hostel -> Room (hostel_id)
- One-to-Many: Hostel -> Expense (hostel_id)
- One-to-Many: Hostel -> Payment (hostel_id)
- One-to-Many: Hostel -> PaymentType (hostel_id)
- One-to-Many: Hostel -> Supplier (hostel_id)
- One-to-Many: Hostel -> Complain (hostel_id)
- One-to-Many: Hostel -> ExpenseCategory (hostel_id)
- One-to-Many: Hostel -> RoomType (hostel_id)

## Physical Structure

### Block
- One-to-Many: Block -> Floor (block_id)
- One-to-Many: Block -> Room (block_id)
- One-to-Many: Block -> StaffCheckInCheckOut (block_id)
- One-to-Many: Block -> Inquiry (block_id)
- One-to-Many: Block -> InquirySeater (block_id)

### Floor
- Belongs-To: Floor -> Block (block_id)
- One-to-Many: Floor -> Room (floor_id)

### Room
- Belongs-To: Room -> Block (block_id)
- Belongs-To: Room -> Floor (floor_number)
- One-to-Many: Room -> Student (room_id)
- One-to-Many: Room -> InquirySeater (room_id)

## People

### Student
- Belongs-To: Student -> User (user_id)
- Belongs-To: Student -> Room (room_id)
- One-to-Many: Student -> StudentCheckInCheckOut (student_id)
- One-to-Many: Student -> StudentFinancial (student_id)
- One-to-Many: Student -> StudentCheckoutFinancial (student_id)
- One-to-Many: Student -> StudentCheckoutRule (student_id)
- One-to-Many: Student -> Notice (student_id)
- One-to-Many: Student -> Expense (student_id)
- One-to-Many: Student -> Income (student_id)
- One-to-Many: Student -> Complain (student_id)
- One-to-Many: Student -> StudentFeeGenerate (student_id)
- One-to-Many: Student -> StudentIncome (student_id)

### Staff
- Belongs-To: Staff -> User (user_id)
- One-to-Many: Staff -> StaffCheckInCheckOut (staff_id)
- One-to-Many: Staff -> StaffFinancial (staff_id)
- One-to-Many: Staff -> StaffSalaryGenerate (staff_id)
- One-to-Many: Staff -> StaffCheckoutFinancial (staff_id)
- One-to-Many: Staff -> StaffCheckoutRule (staff_id)
- One-to-Many: Staff -> Notice (staff_id)
- One-to-Many: Staff -> Expense (staff_id)
- One-to-Many: Staff -> Complain (staff_id)
- One-to-Many: Staff -> Salary (staff_id)
- One-to-Many: Staff -> SalaryPayment (staff_id)

### ShareHolder
- One-to-Many: ShareHolder -> ShareHolderFinance (shareholder_id)
- One-to-Many: ShareHolder -> Share (shareholder_id)
- One-to-Many: ShareHolder -> ShareTransaction (shareholder_id)

### Supplier
- One-to-Many: Supplier -> SupplierFinancial (supplier_id)
- One-to-Many: Supplier -> SupplierPayment (supplier_id)
- One-to-Many: Supplier -> SupplierTransaction (supplier_id)
- One-to-Many: Supplier -> Payment (supplier_id)
- One-to-Many: Supplier -> Expense (supplier_id)

## Financial Records

### PaymentType
- One-to-Many: PaymentType -> StudentFinancial (payment_type_id)
- One-to-Many: PaymentType -> StaffFinancial (payment_type_id)
- One-to-Many: PaymentType -> SalaryPayment (payment_type_id)
- One-to-Many: PaymentType -> ShareHolderFinance (payment_type_id)
- One-to-Many: PaymentType -> Expense (payment_type_id)
- One-to-Many: PaymentType -> SupplierFinancial (payment_type_id)
- One-to-Many: PaymentType -> SupplierPayment (payment_type_id)
- One-to-Many: PaymentType -> StaffSalaryGenerate (payment_type_id)
- One-to-Many: PaymentType -> Payment (payment_type_id)

### Expense
- Belongs-To: Expense -> ExpenseCategory (expense_category_id)
- Belongs-To: Expense -> Student (student_id)
- Belongs-To: Expense -> Staff (staff_id)
- Belongs-To: Expense -> Supplier (supplier_id)
- Belongs-To: Expense -> PaymentType (payment_type_id)
- One-to-Many: Expense -> Purchase (expense_id)

### ExpenseCategory
- One-to-Many: ExpenseCategory -> Expense (expense_category_id)

### Income
- Belongs-To: Income -> Student (student_id)

### IncomeType
- Belongs-To: IncomeType -> Student (student_id)
- One-to-Many: IncomeType -> Income (income_type_id)

### StudentFinancial
- Belongs-To: StudentFinancial -> Student (student_id)
- Belongs-To: StudentFinancial -> PaymentType (payment_type_id)

### StudentIncome
- Belongs-To: StudentIncome -> Student (student_id)
- Belongs-To: StudentIncome -> IncomeType (income_type_id)

### StudentFeeType
- One-to-Many: StudentFeeType -> StudentFeeGenerate (fee_type)
- One-to-Many: StudentFeeType -> StudentFeeType (fee_type)

### StudentFeeGenerate
- Belongs-To: StudentFeeGenerate -> Student (student_id)
- Belongs-To: StudentFeeGenerate -> FeeType (fee_type)

### StaffFinancial
- Belongs-To: StaffFinancial -> Staff (staff_id)

### StaffSalaryGenerate
- Belongs-To: StaffSalaryGenerate -> Staff (staff_id)

### Salary
- Belongs-To: Salary -> Staff (staff_id)

### SalaryPayment
- Belongs-To: SalaryPayment -> Staff (staff_id)
- Belongs-To: SalaryPayment -> PaymentType (payment_type_id)

### ShareHolderFinance
- Belongs-To: ShareHolderFinance -> ShareHolder (shareholder_id)

### SupplierFinancial
- Belongs-To: SupplierFinancial -> Supplier (supplier_id)
- Belongs-To: SupplierFinancial -> PaymentType (payment_type_id)

### SupplierPayment
- Belongs-To: SupplierPayment -> Supplier (supplier_id)
- Belongs-To: SupplierPayment -> PaymentType (payment_type_id)

### SupplierTransaction
- Belongs-To: SupplierTransaction -> Supplier (supplier_id)
- Belongs-To: SupplierTransaction -> PaymentType (payment_type_id)

## Check-In/Check-Out

### StudentCheckInCheckOut
- Belongs-To: StudentCheckInCheckOut -> Student (student_id)
- Belongs-To: StudentCheckInCheckOut -> Block (block_id)

### StudentCheckoutRule
- Belongs-To: StudentCheckoutRule -> Student (student_id)
- One-to-Many: StudentCheckoutRule -> StudentCheckoutFinancial (checkout_rule_id)
- One-to-Many: StudentCheckoutRule -> StudentCheckInCheckOut (checkout_rule_id)

### StudentCheckoutFinancial
- Belongs-To: StudentCheckoutFinancial -> Student (student_id)
- Belongs-To: StudentCheckoutFinancial -> StudentCheckInCheckOut (checkout_id)

### StaffCheckInCheckOut
- Belongs-To: StaffCheckInCheckOut -> Staff (staff_id)
- Belongs-To: StaffCheckInCheckOut -> Block (block_id)

### StaffCheckoutRule
- Belongs-To: StaffCheckoutRule -> Staff (staff_id)
- One-to-Many: StaffCheckoutRule -> StaffCheckoutFinancial (checkout_rule_id)
- One-to-Many: StaffCheckoutRule -> StaffCheckInCheckOut (checkout_rule_id)
- One-to-Many: StaffCheckoutRule -> StaffCheckoutRuleLog (checkout_rule_id)
- One-to-Many: StaffCheckoutRule -> StaffCheckoutRuleFinancial (checkout_rule_id)

### StaffCheckoutFinancial
- Belongs-To: StaffCheckoutFinancial -> Staff (staff_id)
- Belongs-To: StaffCheckoutFinancial -> StaffCheckInCheckOut (checkout_id)

## Other Models

### Inquiry
- Belongs-To: Inquiry -> Block (block_id)

### InquirySeater
- Belongs-To: InquirySeater -> Room (room_id)
- Belongs-To: InquirySeater -> Inquiry (inquiry_id)
- Belongs-To: InquirySeater -> Block (block_id)
- One-to-Many: InquirySeater -> Seater (inquiry_seater_id)

### Notice
- Belongs-To: Notice -> Student (student_id)
- Belongs-To: Notice -> Staff (staff_id)
- Belongs-To: Notice -> Target (target_type)
- Belongs-To: Notice -> NoticeType (notice_type)
- One-to-One: Notice -> NoticeAttachment (notice_id)

### Complain
- Belongs-To: Complain -> Student (student_id)
- Belongs-To: Complain -> Staff (staff_id)

### Purchase
- Belongs-To: Purchase -> Expense (expense_id)

### Attachment
- Belongs-To: Attachment -> User (user_id)
- Belongs-To: Attachment -> Student (student_id)
- Belongs-To: Attachment -> Staff (staff_id)
- Belongs-To: Attachment -> Expense (expense_id)
- Belongs-To: Attachment -> Inquiry (inquiry_id)
- Belongs-To: Attachment -> Block (block_id)
- Belongs-To: Attachment -> Complain (complain_id)
- Belongs-To: Attachment -> Shareholder (shareholder_id)
- Belongs-To: Attachment -> Supplier (supplier_id)
- Belongs-To: Attachment -> Notice (notice_id)
- Belongs-To: Attachment -> StudentIncome (income_id)
- Belongs-To: Attachment -> Room (room_id)
- Belongs-To: Attachment -> Salary (salary_id)
- Belongs-To: Attachment -> Floor (floor_id)

## Additional Notes

1. This relationship map avoids many-to-many relationships, favoring one-to-many and one-to-one relationships.
2. Some relationships might be inferential, based on field naming conventions.
3. Some potential models like Payment, Share, ShareTransaction, StaffCheckoutRuleLog, StaffCheckoutRuleFinancial, NoticeAttachment, Target, NoticeType, RoomType, etc. are referenced but not fully detailed in your provided model files.
4. In practice, you may want to implement some many-to-many relationships with pivot tables for more complex scenarios.
5. Consider reviewing circular dependencies (like StudentFeeType referencing itself).
